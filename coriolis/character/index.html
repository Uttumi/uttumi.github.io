<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Character Sheet</title>
	<script src="https://apis.google.com/js/api.js"></script>
	<script src="script.js"></script>
	<script src="data.js"></script>
    <link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <h1>Character Sheet</h1>

	<div class="section">
		<h2>
			<i class="fas fa-user-astronaut"></i>
			<span class="title-text">Basic Information</span>
		</h2>
		<div class="basic-info-grid">
			<div class="info-item">
				<label for="name">Name</label>
				<input type="text" id="name" name="name">
			</div>
			<div class="info-item">
				<label for="background">Background</label>
				<input type="text" id="background" name="background">
			</div>
			<div class="info-item">
				<label for="concept">Concept</label>
				<input type="text" id="concept" name="concept">
			</div>
			<div class="info-item">
				<label for="icon">Icon</label>
				<input type="text" id="icon" name="icon">
			</div>
			<div class="info-item">
				<label for="group-concept">Group Concept</label>
				<input type="text" id="group-concept" name="group-concept">
			</div>
			<div class="info-item">
				<label for="reputation">Reputation</label>
				<input type="text" id="reputation" name="reputation">
			</div>
			<div class="info-item">
				<label for="personal-problem">Personal Problem</label>
				<input type="text" id="personal-problem" name="personal-problem">
			</div>
		</div>
		<div class="info-item full-width">
			<label for="appearance">Appearance</label>
			<textarea id="appearance" name="appearance" onkeyup="textAreaAdjust(this)"></textarea>
		</div>
		<div class="info-item full-width">
			<label for="character-notes">Notes</label>
			<textarea id="character-notes" name="character-notes" onkeyup="textAreaAdjust(this)"></textarea>
		</div>
	</div>

	<div class="section">
		<h2>
			<i class="fas fa-dna"></i>
			<span class="title-text">Traits</span>
			<span class="experience-container">
				Experience <input type="number" id="experience" name="experience" min="0" value="0">
			</span>
		</h2>	
		<div id="attributes-skills-container"></div>
		<div class="subsection">
			<h3>Talents</h3>
			<table class="talents" id="talents-table">
				<tr>
					<th>Talent</th>
					<th>Description</th>
					<th></th>
				</tr>
			</table>
			<button onclick="addTalent()">Add Talent</button>
		</div>
	</div>

	<div class="section">
	
		<h2>
			<i class="fas fa-skull"></i>
			<span class="title-text">Trauma</span>			
		</h2>
		
		<div class="subsection">
			<div class="subsection-header">
				<div class="stamina-info">
					<h3>Stamina (HP)</h3>
					<input type="number" id="stamina" name="stamina" min="1" value="1" oninput="updateHPBoxes()">
				</div>
				<div class="box-container">
					<div class="boxes" id="hp-boxes"></div>
				</div>
			</div>
			<div class="stamina-inputs">
				<div class="input-pair">
					<label for="fatigue">Fatigue</label>
					<input type="number" id="fatigue" name="fatigue" min="0" value="0" oninput="updateHPBoxes()">
				</div>
				<div class="input-pair">
					<label for="exhaustion">Exhaustion</label>
					<input type="number" id="exhaustion" name="exhaustion" readonly>
				</div>			
			</div>
		</div>

		<div class="subsection">
			<div class="subsection-header">
				<div class="resolve-info">
					<h3>Resolve (MP)</h3>
					<input type="number" id="resolve" name="resolve" min="1" value="1" oninput="updateMPBoxes()">
				</div>
				<div class="box-container">
					<div class="boxes" id="mp-boxes"></div>
				</div>
			</div>
			<div class="resolve-inputs">
				<div class="input-pair">
					<label for="stress">Stress</label>
					<input type="number" id="stress" name="stress" min="0" value="0" oninput="updateMPBoxes()">
				</div>
				<div class="input-pair">
					<label for="panic">Panic</label>
					<input type="number" id="panic" name="panic" readonly>
				</div>
			</div>
		</div>		
		
		<div class="subsection">
			<h3>Critical Injuries</h3>
			<textarea id="critical-injuries" name="critical-injuries" onkeyup="textAreaAdjust(this)"></textarea>
		</div>
	</div>

	<div class="section">
		<h2>
			<i class="fas fa-toolbox"></i>
			<span class="title-text">Inventory</span>
			<span class="inventory-info">
				<input type="number" id="birr" name="birr" value="0">
			</span>
		</h2>

		<div class="subsection">
			<h3>Carrying Capacity</h3>
			<div class="carrying-capacity-info">
				<div class="input-pair">
					<label for="carrying-capacity">Carrying Capacity</label>
					<input type="number" id="carrying-capacity" name="carrying-capacity" min="1" value="1" oninput="updateEncumbrance()">
				</div>
				<div class="input-pair">
					<label for="total-weight">Total Weight</label>
					<input type="number" id="total-weight" name="total-weight" readonly>
				</div>
				<div class="input-pair">
					<label for="encumbrance">Encumbrance</label>
					<input type="number" id="encumbrance" name="encumbrance" readonly>
				</div>
			</div>
		</div>

		<div class="subsection">
			<h3>Weapons</h3>
			<table class="weapons" id="weapons-table">
				<tr>
					<th>Name</th>
					<th>Bonus</th>
					<th>Damage</th>
					<th>Crit</th>
					<th>Range</th>
					<th>Comments</th>
					<th>Reloads</th>
					<th>Weight</th>
					<th></th>
				</tr>
			</table>
			<button onclick="addWeapon()">Add Weapon</button>
		</div>

		<div class="subsection">
			<h3>Gear</h3>
			<table class="gear" id="gear-table">
				<tr>
					<th>Item</th>
					<th>Bonus</th>
					<th>Weight</th>
					<th></th>
				</tr>
			</table>
			<button onclick="addGear()">Add Gear</button>
		</div>

		<div class="subsection">
			<h3>Armor</h3>
			<table class="armor" id="armor-table">
				<tr>
					<th>Name</th>
					<th>Rating</th>
					<th>Comment</th>
					<th>Weight</th>
					<th></th>
				</tr>
			</table>
			<button onclick="addArmor()">Add Armor</button>
		</div>
		
		<div class="subsection">
			<h3>Tiny Items</h3>
			<textarea id="tiny-items" name="tiny-items" onkeyup="textAreaAdjust(this)"></textarea>
		</div>
		
	</div>

    <div class="section">
		<h2>
			<i class="fas fa-book"></i>
			<span class="title-text">Notes</span>
		</h2>	
        <textarea id="notes" name="notes" onkeyup="textAreaAdjust(this)"></textarea>
		<label for="people-met">People I've Met</label>
        <textarea id="people-met" name="people-met" onkeyup="textAreaAdjust(this)"></textarea>
		<label for="concept-notes">Concept Notes</label>
        <textarea id="concept-notes" name="concept-notes" onkeyup="textAreaAdjust(this)"></textarea>
    </div>

    <div class="section">
		<h2>
			<i class="fas fa-rocket"></i>
			<span class="title-text">My Cabin</span>
		</h2>	
        <label for="cabin-description">Description</label>
        <textarea id="cabin-description" name="cabin-description" onkeyup="textAreaAdjust(this)"></textarea><br>
        <label for="cabin-gear">Gear</label>
        <textarea id="cabin-gear" name="cabin-gear" onkeyup="textAreaAdjust(this)"></textarea><br>
        <label for="cabin-other">Other</label>
        <textarea id="cabin-other" name="cabin-other" onkeyup="textAreaAdjust(this)"></textarea>
    </div>

    <!-- Add these buttons at the end of the body -->
    <div class="section">
        <button onclick="saveCharacter()">Save Character</button>
        <button onclick="loadCharacter()">Load Character</button>
    </div>
	
	<!--
    <input type="text" id="fileId" placeholder="Enter Google Drive File ID">
    <button onclick="fetchNPointJSON()">Fetch JSON</button>
    <br><br>
    <textarea id="jsonContent" rows="10" cols="50" onkeyup="textAreaAdjust(this)"></textarea>
    <br>
    <button onclick="updateNPointJSON()">Update JSON</button>	
	-->
	
	<!--
	<button id="signin-button" onclick="handleSignInClick()" style="display: none;">Sign In</button>
	<button id="signout-button" onclick="handleSignOutClick()" style="display: none;">Sign Out</button>
	<button onclick="fetchJSONGoogle()">Load Character</button>
	<button onclick="saveCharacter()">Save Character</button>
	-->
	
</body>
</html>